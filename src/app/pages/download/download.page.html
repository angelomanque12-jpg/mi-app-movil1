<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Descargar AplicaciÃ³n</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Vista para MÃ³vil -->
  <div *ngIf="isMobile" class="mobile-download">
    <div class="download-icon">ğŸ“²</div>
    
    <h1>Descarga la AplicaciÃ³n</h1>
    <p class="subtitle">Acceso a todas las funcionalidades desde tu dispositivo</p>

    <ion-button 
      expand="block" 
      size="large" 
      class="download-btn"
      (click)="downloadAPK()">
      ğŸ“¥ Descargar APK (8.6 MB)
    </ion-button>

    <ion-button 
      expand="block" 
      fill="outline"
      (click)="openAPK()">
      ğŸ“± Abrir Instalador
    </ion-button>

    <div *ngIf="downloadStarted" class="status-message">
      âœ… Â¡Descarga iniciada! Revisa tu carpeta de descargas.
    </div>

    <div class="info-box">
      <h3>Requisitos del Sistema:</h3>
      <ul>
        <li>Android 5.0 o superior</li>
        <li>50 MB de espacio disponible</li>
        <li>ConexiÃ³n a Internet activa</li>
      </ul>
    </div>

    <div class="info-box secondary">
      <p><strong>TamaÃ±o del archivo:</strong> 8.6 MB</p>
      <p><strong>VersiÃ³n:</strong> 1.0</p>
      <p><strong>Ãšltima actualizaciÃ³n:</strong> 28 de Noviembre, 2025</p>
    </div>
  </div>

  <!-- Vista para PC/Desktop -->
  <div *ngIf="!isMobile" class="desktop-download">
    <div class="download-icon">ğŸ–¥ï¸</div>
    
    <h1>Descarga para Dispositivos MÃ³viles</h1>
    <p class="subtitle">Escanea el cÃ³digo QR con tu celular para descargar la aplicaciÃ³n</p>

    <!-- QR CODE SECTION -->
    <div class="qr-section" *ngIf="qrCodeUrl">
      <div class="qr-box">
        <img [src]="qrCodeUrl" alt="QR Code" class="qr-image">
      </div>
      <p class="qr-label">Escanea este cÃ³digo QR con tu celular</p>
      <ion-button 
        expand="block" 
        fill="outline"
        size="small"
        (click)="copyQRLink()">
        ğŸ“‹ Copiar URL del QR
      </ion-button>
    </div>

    <!-- ALTERNATIVE LINK -->
    <div class="divider">Ã³</div>

    <div class="link-box">
      <h3>O abre este enlace en tu mÃ³vil:</h3>
      <div class="copy-link">
        <a [href]="downloadPageUrl" class="download-link">
          {{ downloadPageUrl }}
        </a>
        <button class="copy-btn" (click)="copyDownloadLink()">ğŸ“‹ Copiar</button>
      </div>
    </div>

    <!-- DIRECT DOWNLOAD -->
    <ion-button 
      expand="block" 
      size="large"
      [href]="apkDownloadUrl"
      download="app-debug.apk">
      ğŸ“¥ Descargar APK Directamente (8.6 MB)
    </ion-button>

    <div class="info-box">
      <h3>Instrucciones de InstalaciÃ³n:</h3>
      <ol>
        <li>Escanea el cÃ³digo QR con tu telÃ©fono Android</li>
        <li>O abre el enlace desde tu dispositivo mÃ³vil</li>
        <li>Se descargarÃ¡ el archivo APK</li>
        <li>Una vez descargado, toca el archivo para instalar</li>
        <li>Acepta los permisos requeridos</li>
        <li>Â¡Listo! La aplicaciÃ³n se instalarÃ¡ en tu dispositivo</li>
      </ol>
    </div>
  </div>
</ion-content>
